(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4354)}])},4354:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return G}});var n,i,a,s=t(5893),o=t(7294),l=t(1799),u=t(9396),c=t(6902),$=t(8597),f=t(2682),h=t(2222);(a=n||(n={}))[a.r1=0]="r1",a[a.r2=1]="r2",a[a.r3=2]="r3",a[a.c1=3]="c1",a[a.c2=4]="c2",a[a.c3=5]="c3",a[a.forwardSlash=6]="forwardSlash",a[a.backSlash=7]="backSlash";var d,v,_=n.r1,m=n.r2,x=n.r3,k=n.c1,b=[[_,0],[m,0],[x,0],[0,k-3],[0,n.c2-3],[0,n.c3-3],[2,0],[0,0],];(d=i||(i={}))[d.hor=0]="hor",d[d.ver=1]="ver",d[d.forwardSlash=2]="forwardSlash",d[d.backSlash=3]="backSlash";var w=function(r){var e;return null===(e=document.getElementById(r))||void 0===e?void 0:e.getBoundingClientRect()},j=function(r,e,t){var n,a=b[e],s=w(a.join(",")),o=w("h-divider");if((null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect())&&s&&o){var l=s.width,u=Math.sqrt(2);if(t===i.hor){var c=2*l+2*o.height;return{err:!1,style:{top:l*(a[0]+1)-l/2+o.height*(a[0]-1),left:l/2-50,width:c+100}}}if(t===i.ver){var $=2*l+2*o.height;return{err:!1,style:{top:l/2-50,left:l*(a[1]+1)-l/2+o.height*a[1],height:$+100}}}var f=2*l+2*o.height,h=u*f,d=(h+100-u*f)/u;if(t===i.forwardSlash)return{err:!1,style:{top:3*l-l/2+3*o.height+d/2.5-o.height,left:l/2-d/2.5-o.height,width:h+100}};if(t===i.backSlash)return{err:!1,style:{top:l-l/2+o.height-d/1.75-o.height,left:l/2-d/1.75+o.height,width:h+100}}}return{err:!0,style:{}}},g=function(r){switch(r){case 0:case 1:case 2:return i.hor;case 3:case 4:case 5:return i.ver;case 3:case 6:return i.forwardSlash;case 7:return i.backSlash;default:return null}},p={turn:1,mark:"x",cells:[[{mark:"n"},{mark:"n"},{mark:"n"}],[{mark:"n"},{mark:"n"},{mark:"n"}],[{mark:"n"},{mark:"n"},{mark:"n"}],],winner:!1,strokePos:!1,strokeDir:null},y=(0,c.ZP)()((0,$.mW)((0,f.n)(function(r,e){return(0,u.Z)((0,l.Z)({},p),{updateCell:function(e){var t=e.r,n=e.c;r(function(r){return N({r:t,c:n},r)})},resetGame:function(){r(p)},setStrokeDir:function(e){r(function(r){r.strokeDir=e})}})}))),N=function(r,e){var t=r.r,n=r.c;if(!1===e.winner&&"n"===e.cells[t][n].mark){e.cells[t][n].mark=e.mark;var i,a,s,o,l,u,c,$,f,d,v,_,m=(i={squares:e.cells,fill:e.mark},s={squares:i.squares,fill:i.fill},o=function(r){for(var e=r.squares,t=r.fill,n=0;n<e.length;n++)if(e[n].every(function(r){return r.mark===t}))return{won:!0,strokePosition:n};return{won:!1,strokePosition:!1}}(s),l=o.won,u=o.strokePosition,c=function(r){for(var e=r.squares,t=r.fill,n=0;n<e.length;n++){var i=function(r){for(var n=[],i=0;i<e.length;i++)n.push(e[i][r]);if(n.every(function(r){return r.mark===t}))return{v:{won:!0,strokePosition:r+3}}}(n);if("object"===(0,h.Z)(i))return i.v}return{won:!1,strokePosition:!1}}(s),$=c.won,f=c.strokePosition,d=function(r){for(var e=r.squares,t=r.fill,n=[],i=0;i<e.length;i++)n.push(e[i][i]);if(n.every(function(r){return r.mark===t}))return{won:!0,strokePosition:7};for(var a=[],s=2,o=0;s>=0;s--,o++)a.push(e[s][o]);return a.every(function(r){return r.mark===t})?{won:!0,strokePosition:6}:{won:!1,strokePosition:!1}}(s),v=d.won,_=d.strokePosition,$||v||l?{won:!0,strokePosition:[u,f,_].find(function(r){return"number"==typeof r})}:{won:!1,strokePosition:!1}),x=m.won,k=m.strokePosition;"x"===e.mark?(x&&(e.winner="x",e.strokePos=k),e.mark="o"):(x&&(e.winner="o",e.strokePos=k),e.mark="x")}},P=t(5331),S=t(5820),E=function(){return(0,s.jsx)("div",{className:"w-full h-2 bg-gray-700 opacity-40",id:"h-divider"})},z=function(){return(0,s.jsx)("div",{className:"w-2 h-28 bg-gray-700 opacity-40"})},C=function(){return(0,s.jsxs)(P.E.div,{className:"relative",initial:{scale:0},animate:{scale:1},transition:{duration:.6,type:"spring",bounce:.6},exit:{opacity:0,rotate:90,x:-100,y:200,transition:{duration:.5}},children:[(0,s.jsx)("div",{className:"border-t-8 border-t-purple-600 w-16 h-2 absolute left-1/2 top-1/2 rotate-45 -translate-x-1/2"}),(0,s.jsx)("div",{className:"border-b-8 border-b-purple-600 w-16 h-2 absolute left-1/2 top-1/2 -rotate-45 -translate-x-1/2"})]})},q=function(){return(0,s.jsx)(P.E.div,{className:"relative",initial:{scale:0},animate:{scale:1},transition:{duration:.6,type:"spring",bounce:.6},exit:{opacity:0,x:-100,y:200,transition:{duration:.5}},children:(0,s.jsx)("div",{className:"w-16 h-16 border-8 border-amber-400 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full"})})},D=function(r){var e=r.mark;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(S.M,{children:"n"!==e&&"x"===e?(0,s.jsx)(C,{}):"o"===e?(0,s.jsx)(q,{}):null})})},R=function(r){var e=r.c,t=r.r,n=y(function(r){return r.cells[t][e].mark}),i=y(function(r){return r.updateCell});return(0,s.jsx)("div",{className:"w-28 h-28 flex justify-center items-center text-6xl pb-3 cursor-pointer touch-none",onClick:function(){return i({r:t,c:e})},id:"".concat(t,",").concat(e),children:(0,s.jsx)(D,{mark:n})})},M=function(r){var e=r.r;return(0,s.jsxs)("div",{className:"flex w-full h-full",children:[(0,s.jsx)(R,{c:0,r:e}),(0,s.jsx)(z,{}),(0,s.jsx)(R,{c:1,r:e}),(0,s.jsx)(z,{}),(0,s.jsx)(R,{c:2,r:e})]})},Z=function(r){var e=r.divRef,t=(0,o.useState)({}),n=t[0],a=t[1],l=y(function(r){return r.strokePos}),u=y(function(r){return r.strokeDir}),c=y(function(r){return r.setStrokeDir});(0,o.useEffect)(function(){if(c(g(l)),"number"==typeof l&&"number"==typeof u){var r=j(e,l,u);r.err||a(r.style)}},[e,c,u,l]);var $=(0,o.useMemo)(function(){return{hidden:{opacity:0,width:0},visible:{opacity:1,width:n.width,transition:{duration:1}}}},[n]),f=(0,o.useMemo)(function(){return{hidden:{opacity:0,height:0},visible:{opacity:1,height:n.height,transition:{duration:1}}}},[n]);return(0,s.jsx)(s.Fragment,{children:u===i.hor?(0,s.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black",style:n}):u===i.ver?(0,s.jsx)(P.E.div,{variants:f,initial:"hidden",animate:"visible",className:"absolute w-2 bg-black",style:n}):u===i.forwardSlash?(0,s.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black -rotate-45 origin-left",style:n}):u===i.backSlash?(0,s.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black rotate-45 origin-left",style:n}):(0,s.jsx)(s.Fragment,{})})};function B(){var r=y(function(r){return r.resetGame});return(0,s.jsx)(P.E.button,{className:"bg-slate-800 text-xl text-teal-500 font-bold py-2 px-4 rounded block mx-auto mt-16 touch-none select-none",onClick:r,whileHover:{scale:1.2},whileTap:{scale:.8},children:"Reset"})}function F(){var r=(0,o.useRef)(null);return(0,s.jsxs)(P.E.div,{className:"relative shrink-0 grow-0 w-full h-full",ref:r,initial:{scale:0},animate:{scale:1},children:[(0,s.jsx)(M,{r:0}),(0,s.jsx)(E,{}),(0,s.jsx)(M,{r:1}),(0,s.jsx)(E,{}),(0,s.jsx)(M,{r:2}),(0,s.jsx)(Z,{divRef:r})]})}function T(){return(0,s.jsx)("div",{className:"h-16 text-center",children:(0,s.jsx)(P.E.a,{href:"https://zzdandanzz.github.io/",className:"text-slate-800 underline font-bold block",initial:{opacity:0,rotate:180,x:300},animate:{opacity:[0,1],rotate:[180,0],x:[300,0]},transition:{delay:1},children:"Made by: @zzDanDanzz"})})}var G=function(){return(0,s.jsx)("div",{className:"bg-teal-500 mx-auto max-w-md h-full w-full flex justify-center items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(T,{}),(0,s.jsx)(F,{}),(0,s.jsx)(B,{})]})})}}},function(r){r.O(0,[756,774,888,179],function(){return r(r.s=8312)}),_N_E=r.O()}]);