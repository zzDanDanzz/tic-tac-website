(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(r,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4354)}])},4354:function(r,e,t){"use strict";t.r(e),t.d(e,{default:function(){return F}});var n,i,s,a=t(5893),o=t(7294),l=t(1799),u=t(9396),c=t(6902),$=t(8597),f=t(2682),h=t(2222);(s=n||(n={}))[s.r1=0]="r1",s[s.r2=1]="r2",s[s.r3=2]="r3",s[s.c1=3]="c1",s[s.c2=4]="c2",s[s.c3=5]="c3",s[s.forwardSlash=6]="forwardSlash",s[s.backSlash=7]="backSlash";var d,v,k=n.r1,_=n.r2,m=n.r3,b=n.c1,x=[[k,0],[_,0],[m,0],[0,b-3],[0,n.c2-3],[0,n.c3-3],[2,0],[0,0],];(d=i||(i={}))[d.hor=0]="hor",d[d.ver=1]="ver",d[d.forwardSlash=2]="forwardSlash",d[d.backSlash=3]="backSlash";var w=function(r){var e;return null===(e=document.getElementById(r))||void 0===e?void 0:e.getBoundingClientRect()},g=function(r,e,t){var n,s=x[e],a=w(s.join(",")),o=w("h-divider");if((null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect())&&a&&o){var l=a.width,u=Math.sqrt(2);if(t===i.hor){var c=2*l+2*o.height;return{err:!1,style:{top:l*(s[0]+1)-l/2+o.height*(s[0]-1),left:l/2-50,width:c+100}}}if(t===i.ver){var $=2*l+2*o.height;return{err:!1,style:{top:l/2-50,left:l*(s[1]+1)-l/2+o.height*s[1],height:$+100}}}var f=2*l+2*o.height,h=u*f,d=(h+100-u*f)/u;if(t===i.forwardSlash)return{err:!1,style:{top:3*l-l/2+3*o.height+d/2.5-o.height,left:l/2-d/2.5-o.height,width:h+100}};if(t===i.backSlash)return{err:!1,style:{top:l-l/2+o.height-d/1.75-o.height,left:l/2-d/1.75+o.height,width:h+100}}}return{err:!0,style:{}}},j=function(r){switch(r){case 0:case 1:case 2:return i.hor;case 3:case 4:case 5:return i.ver;case 3:case 6:return i.forwardSlash;case 7:return i.backSlash;default:return null}},p={turn:1,mark:"x",cells:[[{mark:"n"},{mark:"n"},{mark:"n"}],[{mark:"n"},{mark:"n"},{mark:"n"}],[{mark:"n"},{mark:"n"},{mark:"n"}],],winner:!1,strokePos:!1,strokeDir:null},y=(0,c.ZP)()((0,$.mW)((0,f.n)(function(r,e){return(0,u.Z)((0,l.Z)({},p),{updateCell:function(e){var t=e.r,n=e.c;r(function(r){return N({r:t,c:n},r)})},resetGame:function(){r(p)},setStrokeDir:function(e){r(function(r){r.strokeDir=e})}})}))),N=function(r,e){var t=r.r,n=r.c;if(!1===e.winner&&"n"===e.cells[t][n].mark){e.cells[t][n].mark=e.mark;var i,s,a,o,l,u,c,$,f,d,v,k,_=(i={squares:e.cells,fill:e.mark},a={squares:i.squares,fill:i.fill},o=function(r){for(var e=r.squares,t=r.fill,n=0;n<e.length;n++)if(e[n].every(function(r){return r.mark===t}))return{won:!0,strokePosition:n};return{won:!1,strokePosition:!1}}(a),l=o.won,u=o.strokePosition,c=function(r){for(var e=r.squares,t=r.fill,n=0;n<e.length;n++){var i=function(r){for(var n=[],i=0;i<e.length;i++)n.push(e[i][r]);if(n.every(function(r){return r.mark===t}))return{v:{won:!0,strokePosition:r+3}}}(n);if("object"===(0,h.Z)(i))return i.v}return{won:!1,strokePosition:!1}}(a),$=c.won,f=c.strokePosition,d=function(r){for(var e=r.squares,t=r.fill,n=[],i=0;i<e.length;i++)n.push(e[i][i]);if(n.every(function(r){return r.mark===t}))return{won:!0,strokePosition:7};for(var s=[],a=2,o=0;a>=0;a--,o++)s.push(e[a][o]);return s.every(function(r){return r.mark===t})?{won:!0,strokePosition:6}:{won:!1,strokePosition:!1}}(a),v=d.won,k=d.strokePosition,$||v||l?{won:!0,strokePosition:[u,f,k].find(function(r){return"number"==typeof r})}:{won:!1,strokePosition:!1}),m=_.won,b=_.strokePosition;"x"===e.mark?(m&&(e.winner="x",e.strokePos=b),e.mark="o"):(m&&(e.winner="o",e.strokePos=b),e.mark="x")}},P=t(415),S=function(){return(0,a.jsx)("div",{className:"w-full h-2 bg-gray-700 opacity-40",id:"h-divider"})},E=function(){return(0,a.jsx)("div",{className:"w-2 h-32 bg-gray-700 opacity-40"})},C=function(){return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"border-t-8 border-t-purple-600 w-16 h-2 absolute left-1/2 top-1/2 rotate-45 -translate-x-1/2"}),(0,a.jsx)("div",{className:"border-b-8 border-b-purple-600 w-16 h-2 absolute left-1/2 top-1/2 -rotate-45 -translate-x-1/2"})]})},q=function(){return(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"w-16 h-16 border-8 border-amber-400 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full"})})},R=function(r){var e=r.mark;return(0,a.jsx)(a.Fragment,{children:"x"===e?(0,a.jsx)(C,{}):"o"===e?(0,a.jsx)(q,{}):null})},D=function(r){var e=r.c,t=r.r,n=y(function(r){return r.cells[t][e].mark}),i=y(function(r){return r.updateCell});return(0,a.jsx)("div",{className:"w-32 h-32 flex justify-center items-center text-6xl pb-3 cursor-pointer",onClick:function(){return i({r:t,c:e})},id:"".concat(t,",").concat(e),children:(0,a.jsx)(R,{mark:n})})},Z=function(r){var e=r.r;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(D,{c:0,r:e}),(0,a.jsx)(E,{}),(0,a.jsx)(D,{c:1,r:e}),(0,a.jsx)(E,{}),(0,a.jsx)(D,{c:2,r:e})]})},B=function(r){var e=r.divRef,t=(0,o.useState)({}),n=t[0],s=t[1],l=y(function(r){return r.strokePos}),u=y(function(r){return r.strokeDir}),c=y(function(r){return r.setStrokeDir});(0,o.useEffect)(function(){if(c(j(l)),"number"==typeof l&&"number"==typeof u){var r=g(e,l,u);r.err||s(r.style)}},[e,c,u,l]);var $=(0,o.useMemo)(function(){return{hidden:{opacity:0,width:0},visible:{opacity:1,width:n.width,transition:{duration:1}}}},[n]),f=(0,o.useMemo)(function(){return{hidden:{opacity:0,height:0},visible:{opacity:1,height:n.height,transition:{duration:1}}}},[n]);return(0,a.jsx)(a.Fragment,{children:u===i.hor?(0,a.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black",style:n}):u===i.ver?(0,a.jsx)(P.E.div,{variants:f,initial:"hidden",animate:"visible",className:"absolute w-2 bg-black",style:n}):u===i.forwardSlash?(0,a.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black -rotate-45 origin-left",style:n}):u===i.backSlash?(0,a.jsx)(P.E.div,{variants:$,initial:"hidden",animate:"visible",className:"absolute h-2 bg-black rotate-45 origin-left",style:n}):(0,a.jsx)(a.Fragment,{})})},F=function(){var r=y(function(r){return r.resetGame}),e=(0,o.useRef)(null);return(0,a.jsx)("div",{className:"bg-teal-500 w-screen h-screen flex justify-center items-center",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"relative shrink-0 grow-0",ref:e,children:[(0,a.jsx)(Z,{r:0}),(0,a.jsx)(S,{}),(0,a.jsx)(Z,{r:1}),(0,a.jsx)(S,{}),(0,a.jsx)(Z,{r:2}),(0,a.jsx)(B,{divRef:e})]}),(0,a.jsx)("button",{className:"bg-slate-800 text-teal-500 font-bold p-2 rounded block mx-auto my-10",onClick:r,children:"Reset"})]})})}}},function(r){r.O(0,[258,774,888,179],function(){return r(r.s=8312)}),_N_E=r.O()}]);